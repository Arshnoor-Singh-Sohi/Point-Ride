{% extends 'base.html' %}
{% load static %}

{% block title %}Driver Dashboard{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1 class="fw-bold">Welcome, {{ request.user.full_legal_name }} ğŸš—</h1>
        <p class="text-muted">Manage your rides and routes with our enhanced planning tools</p>
    </div>

    <div class="row g-4">
        <!-- Enhanced Route Planning Card -->
        <div class="col-md-6">
            <div class="card shadow border-primary h-100">
                <div class="card-body">
                    <h5 class="card-title text-primary">ğŸ—ºï¸ Enhanced Route Planning</h5>
                    <p class="card-text">Plan routes using our interactive Ontario map with all cities. Create routes visually and manage them efficiently.</p>
                    <div class="d-grid gap-2">
                        <a href="{% url 'rides:route_map' %}" class="btn btn-primary">ğŸ—ºï¸ Open Map Interface</a>
                        <small class="text-muted">âœ¨ New: Interactive city selection with visual map</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- Create Ride Card -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body">
                    <h5 class="card-title">ğŸ“ Create New Ride</h5>
                    <p class="card-text">Post a ride offer using our quick form interface.</p>
                    <div class="d-grid gap-2">
                        <a href="{% url 'rides:create_ride' %}" class="btn btn-success">Create Ride (Form)</a>
                        <small class="text-muted">Traditional form-based ride creation</small>
                    </div>
                </div>
            </div>
        </div>

        <!-- My Rides Card -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body">
                    <h5 class="card-title">ğŸš— My Rides & Bookings</h5>
                    <p class="card-text">View your posted rides and manage booking requests from passengers.</p>
                    <a href="{% url 'rides:my_rides' %}" class="btn btn-info">Manage My Rides</a>
                </div>
            </div>
        </div>

        <!-- Browse Rides Card -->
        <div class="col-md-6">
            <div class="card shadow-sm border-0 h-100">
                <div class="card-body">
                    <h5 class="card-title">ğŸ” Browse Available Rides</h5>
                    <p class="card-text">See what other drivers are offering across Ontario.</p>
                    <a href="{% url 'rides:home_search' %}" class="btn btn-outline-primary">Browse Rides</a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Quick Stats Card -->
    <div class="row mt-4">
        <div class="col-12">
            <div class="card bg-light">
                <div class="card-body">
                    <div class="row align-items-center">
                        <div class="col-md-8">
                            <h5 class="card-title mb-0">Account Status</h5>
                            <p class="card-text mb-0">
                                <strong>Verification Status:</strong> 
                                {% if user.driver_profile.account_status == 'VERIFIED' %}
                                    <span class="badge bg-success">âœ… Verified Driver</span>
                                {% elif user.driver_profile.account_status == 'PENDING' %}
                                    <span class="badge bg-warning">â³ Pending Verification</span>
                                {% else %}
                                    <span class="badge bg-danger">{{ user.driver_profile.account_status }}</span>
                                {% endif %}
                            </p>
                        </div>
                        <div class="col-md-4 text-end">
                            <small class="text-muted">Ready to start earning with pointRide</small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}